# TaxiRideFlow

**TaxiRideFlow** — это учебный мини-проект, демонстрирующий реализацию сценария поездки в такси с использованием событийной модели, строгой машины состояний (FSM) и расчёта стоимости в зависимости от выбранного тарифа.

---

## Описание проекта

Цель проекта — смоделировать реальную поездку в такси:

- Заказ создаётся и получает статус **"заказ принят"**
- Затем переходит в статус **"на заказе"**
- Затем может быть:
  - **"заказ выполнен"**, или
  - **"заказ отменён"**

Переходы между статусами строго контролируются.

Также реализован точный расчёт стоимости поездки на основе:

- тарифа (Эконом / Комфорт),
- пройденных километров,
- времени поездки,
- коэффициента тарифа.

---

## Реализованный функционал

✔ Полная модель поездки (`Ride`)  
✔ Событийная модель (`RideEvent`)  
✔ Состояния (`RideState`)  
✔ Поток обработки событий (`DriverFlow`)  
✔ Реализация корректных переходов между статусами  
✔ Функция расчёта стоимости (`FareCalc`)  
✔ Примеры сценариев выполнения  

---

## Тарифы

| Тариф      | Коэффициент `k` |
|------------|------------------|
| Эконом     | 1.0              |
| Комфорт    | 1.5              |

---

## Машина состояний (FSM)

Последовательность допустимых переходов:

"заказ принят" → "на заказе" → "заказ выполнен"
                                   └→ "заказ отменён"

Любое нарушение последовательности блокируется логикой.

---

## Формула расчёта стоимости

Стоимость рассчитывается по формуле:

price = base + km * perKm + min * perMin * k

где:

- `base` — базовая цена  
- `km` — километры  
- `perKm` — цена за километр  
- `min` — минуты  
- `perMin` — цена за минуту  
- `k` — коэффициент тарифа  

---
